<div class="row">
    <div class="col-md-12">
        <h1 class="display-4 text-center">Claim / Claim Stake</h1>
      <!-- <b>Deposit Contract address:</b> {{depositContractAddr}} <a href="https://ropsten.etherscan.io/address/{{depositContractAddr}}" target="_blank"><span class="glyphicon glyphicon-link"></span></a> -->
      <b>Deposit Contract address:</b> {{depositContractAddr}} <a href="https://kottiexplorer.ethernode.io/address/{{depositContractAddr}}" target="_blank"><span class="glyphicon glyphicon-link"></span></a>
    </div>

    <ngb-tabset>
        <ngb-tab title="Claim">
          <ng-template ngbTabContent>

                <div class="col-md-12 mt-3">
                  <div class="form-group mt-3">
                    <label for="token-id">Token Id</label>
                    <select name="token-id" class="form-control" [(ngModel)]="tokenIdIdx">
                        <option value="-1">none</option>
                        <option *ngFor="let t of tokens; let i = index" value="{{i}}">{{t.topics[1]}}</option>
                    </select>
                  </div>
                  <div class="mt-4 text-center">
                    <button class="btn btn-success" (click)="claim(false)" [disabled]="tokenIdIdx == -1">Claim</button>
                  </div>
                </div>
          </ng-template>
        </ngb-tab>

        <ngb-tab title="Claim Stake">
          <ng-template ngbTabContent>
                <div class="col-md-12 mt-3">
                  <div class="form-group mt-3">
                    <label for="stake-token-id">Token Id</label>
                    <input type="text" class="form-control" id="stake-token-id" name="stake-token-id" placeholder="Token Id" [(ngModel)]="tokenId">
                  </div>
                  <div class="mt-4 text-center">
                    <button class="btn btn-success" (click)="claim(true)">Claim Stake</button>
                  </div>
                </div>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>








  <div  *ngIf="errorMessage" class="col-md-12 text-center mt-3">
    <ngb-alert [type]="'danger'" [dismissible]="false">
        <strong>Error!</strong> {{errorMessage}}
    </ngb-alert>
  </div>

  <div *ngIf="transactionHash != ''" class="col-md-12 mt-3 text-center">
    <ngb-alert [type]="'success'" [dismissible]="false">
      <b>tx hash:</b> {{transactionHash}} <a href="https://ropsten.etherscan.io/tx/{{transactionHash}}" target="_blank"><span class="glyphicon glyphicon-link"></span></a>
    </ngb-alert>
  </div>

</div>

<div *ngIf="isLoading" id="loader-spinner" class="load-indicator" >
  <div class="mid">
    <h4 *ngIf="loaderMessage!=''">{{loaderMessage}}</h4>
    <span class="glyphicon glyphicon-refresh fast-right-spinner"></span>
  </div>
</div>
